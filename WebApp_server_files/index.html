<!DOCTYPE html>
<html>
<head>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.css" rel="stylesheet" type="text/css">
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
 
 <title></title>
	<style type="text/css">
	body{margin: 0; padding: 0;font-family: 'Oswald', sans-serif !important; }
		.switch {
	
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
}

.switch input {display:none;}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color: #2196F3;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}
.btn{ display: inline-block; background: #ccc; color: #262633;  padding: 10px; width: 80px;
cursor: pointer;
}
.btnon{ background: #2196F3; color: #fff; }
.logdiv{position: absolute; background: #fff; overflow-y: scroll;  overflow-x: hidden; height: 50vh; width: 40vw; margin: 5vh 5vw; padding: 0vh 0;  right: 0; top: 0; box-shadow: 0 0 3px 2px #ccc;}
.conte{height: 50vh; background:  #fff; width: 40vw; margin: 5vh 5vw; padding: 5vh 0; left: 0; top: 0; position: absolute;  color: #262633; box-shadow:0 0 3px 2px #ccc; }
.logdiv div{ letter-spacing: 1px ; font-size: 16px; word-spacing: 2px;  padding: 3px 10px;  }
.logdiv div:nth-child(odd) {
    background: #f2f2f2;
}
.se-head{position: absolute; height: 100%; width: 100px; background: #2196F3; color: #fff; text-align: center; line-height: 100px; 
writing-mode: tb-rl; 
font-size: 30px; left: 0; }
.rot{ transform: rotate(180deg);
}
.schedule{
position: absolute; width: 90vw; height: 35vh;  margin: 60vh 5vw 0 5vw;  background: #fff;  box-shadow: 0 0 3px 2px #ccc;
}

	</style>




</head>
<body ng-app="myApp"  ng-controller="mainController">
<div class="conte" >
	<center>
		<div class="btn at">AUTO</div>
		<div class="btn mt">MANUAL</div>
		
	<br><br>
<table>
	<tr>
		<td>Fan:</td>
		<td>
			
<label class="switch">
  <input type="checkbox" id="fan">
  <span class="slider round"></span>
</label>
		</td>
	</tr>
	<tr>
		<td>Light :</td>
		<td>
			
<label class="switch">
  <input type="checkbox" id="light">
  <span class="slider round"></span>
</label>
		</td>
	</tr>
	<tr>
		<td>AC :</td>
		<td>
			
<label class="switch">
  <input type="checkbox" id="ac">
  <span class="slider round"></span>
</label>
		</td>
	</tr>
	<tr>
		<td>Projector :</td>
		<td>
			
<label class="switch">
  <input type="checkbox" id="projector">
  <span class="slider round"></span>
</label>
		</td>
	</tr>
	<tr>
		<td>Lock :</td>
		<td>
			
<label class="switch">
  <input type="checkbox" id="lock">
  <span class="slider round"></span>
</label>
		</td>
	</tr>
</table>

</center>

</div>
<div class="logdiv">
  <div style="width: 100%; text-align: center; font-size: 30px; margin-bottom: 10px; color: #fff; background:#2196F3; ">Log Activity</div>
  <div  ng-repeat="x in names">
    {{ x.date1 }} <b>{{ x.object }} {{ x.status }}</b>
  </div>
</div>	
<div class="schedule">
 <div class="se-head"><h2 class="rot">SCHEDULE</h2></div>
 <center>
 <div style="overflow:hidden;  display:  inline-block; width: 400px;">
    <div class="form-group">
        <div class="row">
            <div class="col-md-8">
                <div id="datetimepicker12"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(function () {
            $('#datetimepicker12').datetimepicker({
                inline: true,
                sideBySide: true,
                format:'DD/MM/YYYY'
            });
        });
    </script>
</div>
<div style="overflow:hidden; display:  inline-block; width: 300px;">
    <div class="form-group">
        <div class="row">
            <div class="col-md-8">
                <div id="datetimepicker123"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(function () {
            $('#datetimepicker123').datetimepicker({
                inline: true,
                sideBySide: true,
                format:'HH/mm'
            });
        });
    </script>
</div>
<div style="position: absolute; right: 0; height: 60px; width: 120px; line-height: 60px; background: #2196F3; color: #fff; top: 50%; 
border-radius: 5px;
transform: translateY(-50%); margin-right: 100px; " id="scheduleset">SET</div>
<script type="text/javascript">
	$('#scheduleset').click(function(){
		alert($("#datetimepicker12").find("input").val());
	});
</script>
</center>
</div>
<script>
  $(document).ready(function(){
    $('.at').click(function(){
       $.ajax({
               type:"post",
               url:"autowork.php",               
               success: function(response){                 
               }
         });
         return false;   
          
    });
    $('.mt').click(function(){
       $.ajax({
               type:"post",
               url:"manualwork.php",               
               success: function(response){                 
               }
         });
         return false;   
          
    });

$('#fan').click(function(){
	if (document.getElementById('fan').checked) {	
		  $.ajax({
               type:"post",
               url:"fanon.php",               
               success: function(response){                 
               }
         });
         return false;   
         	}
	else{		
		  $.ajax({
               type:"post",
               url:"fanoff.php",               
               success: function(response){                 
               }
         });
         return false;    
	}
});
$('#light').click(function(){
	if (document.getElementById('light').checked) {	
		  $.ajax({
               type:"post",
               url:"lighton.php",               
               success: function(response){                 
               }
         });
         return false;   
         	}
	else{		
		  $.ajax({
               type:"post",
               url:"lightoff.php",               
               success: function(response){                 
               }
         });
         return false;    
	}
});
$('#ac').click(function(){
	if (document.getElementById('ac').checked) {	
		  $.ajax({
               type:"post",
               url:"acon.php",               
               success: function(response){                 
               }
         });
         return false;   
         	}
	else{		
		  $.ajax({
               type:"post",
               url:"acoff.php",               
               success: function(response){                 
               }
         });
         return false;    
	}
});
$('#projector').click(function(){
	if (document.getElementById('projector').checked) {	
		  $.ajax({
               type:"post",
               url:"projectoron.php",               
               success: function(response){                 
               }
         });
         return false;   
         	}
	else{		
		  $.ajax({
               type:"post",
               url:"projectoroff.php",               
               success: function(response){                 
               }
         });
         return false;    
	}
});
$('#lock').click(function(){
	if (document.getElementById('lock').checked) {	
		  $.ajax({
               type:"post",
               url:"lock.php",               
               success: function(response){                 
               }
         });
         return false;   
         	}
	else{		
		  $.ajax({
               type:"post",
               url:"unlock.php",               
               success: function(response){                 
               }
         });
         return false;    
	}
});
});
</script>
<script>
var myApp = angular.module('myApp', []);
myApp.controller('mainController',function($scope,$http){

    $scope.lock;



    $scope.get = function() {
          $http({
              
              method: 'GET',
              url: 'iotapp.php'
              
          }).then(function (response) {
              
              // on success
              $scope.p = response.data;
              
             if($scope.p.fan=="1"){document.getElementById("fan").checked = true;}
             	else{document.getElementById("fan").checked = false;}

             if($scope.p.light=="1"){document.getElementById("light").checked = true;}
             	else{document.getElementById("light").checked = false;}

             if($scope.p.ac=="1"){document.getElementById("ac").checked = true;}
             	else{document.getElementById("ac").checked = false;}

             if($scope.p.projector=="1"){document.getElementById("projector").checked = true;}
             	else{document.getElementById("projector").checked = false;}

           if($scope.p.lock=="1"){document.getElementById("lock").checked = true;}
             	else{document.getElementById("lock").checked = false;}

             if($scope.p.auto=="1"){
             	$('.at').addClass('btnon');
             	$('.mt').removeClass('btnon');
             	$('label').css({"pointer-events":"none"});}
             	else{
             		$('.mt').addClass('btnon');
             		$('.at').removeClass('btnon');
             	$('label').css({"pointer-events":"auto"});
             }


               $scope.get();

              
          });
    };   




          $scope.get();
    

    $scope.get1 = function() {
          $http({
              
              method: 'GET',
              url: 'logAngular.php'
              
          }).then(function (response) {
              
              // on success
              $scope.names = response.data.records;
             
               $scope.get1();

              
          });
    };   
          $scope.get1();
    
        
});
myApp.controller('logController',function($scope,$http){








});
</script>

</body>
</html>